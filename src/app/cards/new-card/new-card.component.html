<div class="view-card-page flexed col">
  <nav class="page-header flexed padded">
    <button (click)="goBack()" class="btn circle text">
      <i class="bi bi-x"></i>
    </button>

    <span class="spacer"></span>

    <div *ngIf="currentState === STATE_OPTIONS.TEXT">
      <h3>Texto</h3>
    </div>

    <div *ngIf="currentState === STATE_OPTIONS.STYLIZE">
      <h3>Fundo</h3>
    </div>

    <div *ngIf="currentState === STATE_OPTIONS.PREVIEW">
      <h3>Preview</h3>
    </div>

    <span class="spacer"></span>

    <div class="flexed">
      <button (click)="prev()" class="prev btn circle text">
        <i class="bi bi-arrow-left"></i>
      </button>

      <div class="sized-box-05"></div>

      <button *ngIf="currentState !== STATE_OPTIONS.PREVIEW" (click)="next()" class="btn circle text">
        <i class="bi bi-arrow-right"></i>
      </button>

      <button *ngIf="currentState === STATE_OPTIONS.PREVIEW" (click)="next()" class="btn circle text">
        <i class="bi bi-check-circle-fill"></i>
      </button>
    </div>
  </nav>

  <div *ngIf="currentState === STATE_OPTIONS.TEXT" class="states flexed col padded">
    <span class="spacer"></span>

    <div class="card-text">
      <div class=" padded">
        <p class="text-center">
          Digite a mensagem para o cart√£o na caixa abaixo...
        </p>
      </div>

      <div class="message padded">
        <textarea #messageInput class="message-input" name="message" id="message-input" rows="10"
          [(ngModel)]="card.message">
                </textarea>
      </div>

      <div class="flexed center padded">
        <button (click)="next()" class="btn icon outline" [disabled]="card.message.length < 5">
          <span>Escolher fundo</span>
        </button>
      </div>
    </div>

    <span class="spacer"></span>

  </div>

  <div *ngIf="currentState === STATE_OPTIONS.STYLIZE" class="states flexed col">

    <span class="spacer"></span>

    <div class="card-background padded">
      <div class="preview">
        <app-card [card]="card"></app-card>
      </div>
    </div>

    <span class="spacer"></span>

    <div *ngIf="pickingColor" class="color-picker padded">
      <b class="padded-05-y">Cor do Texto</b>

      <div class="colors flexed">
        <div *ngFor="let color of textColors" (click)="setColor(color)" [ngStyle]="{'background': color}" class="color">
        </div>
      </div>
    </div>

    <div *ngIf="!pickingColor" class="background-picker padded">
      <b class="padded-05-y">Fundo</b>

      <div class="colors flexed">
        <div *ngFor="let color of textColors" (click)="setBackground(color)" [ngStyle]="{'background': color}"
          class="color">
        </div>
      </div>
    </div>

    <nav class="customize-options flexed">
      <button class="btn flexed col center">
        <i class="bi bi-file-font-fill"></i>
        <span>Fonte</span>
      </button>

      <button (click)="selectPicker('background')" class="btn flexed col center"
        [ngClass]="{'text-primary': !pickingColor}">
        <i class="bi bi-image"></i>
        <span>Fundo</span>
      </button>

      <button (click)="selectPicker('color')" class="btn flexed col center" [ngClass]="{'text-primary': pickingColor}">
        <i class="bi bi-circle-half"></i>
        <span>Cor do texto</span>
      </button>
    </nav>

  </div>

  <div *ngIf="currentState === STATE_OPTIONS.PREVIEW" class="states flexed col padded">
    <span class="spacer"></span>

    <div class="final-card">
      <app-card [card]="card"></app-card>
    </div>

    <div class="sized-box"></div>

    <div class="flexed center padded">
      <button (click)="next()" class="btn icon outline" [disabled]="card.message.length < 5">
        <i class="bi bi-check"></i>
        <span>Publicar</span>
      </button>
    </div>
    <span class="spacer"></span>
  </div>

  <span class="spacer"></span>
</div>
